(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["checkout"],{"0c29":function(t,a,i){"use strict";i("9f2b")},"0c72":function(t,a,i){"use strict";i.r(a);var r=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"bg-dark"},[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("Header"),i("div",{staticClass:"container"},[t.hasCartItem?i("ul",{staticClass:"cart-items"},[t.isInCheckoutPage?i("h1",{staticClass:"cart-title"},[t._v("結帳")]):i("h1",{staticClass:"cart-title"},[t._v("個人資訊")]),i("div",{staticClass:"cart-item-container"},[t._m(0),t._l(t.cartItemsInCart,(function(a,r){return i("li",{key:r,staticClass:"cart-item flex-content"},[i("router-link",{staticClass:"cart-info flex-content",attrs:{to:{name:"ProductDetail",params:{id:a.id}}}},[i("div",{staticClass:"cart-info-container"},[i("div",{staticClass:"cart-img",style:{backgroundImage:"url(\n                        https://i.imgur.com/"+a.imgSrc+")"}}),i("div",{staticClass:"cart-name"},[t._v(t._s(a.name))])]),i("div",{staticClass:"cart-price"},[t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(a.price)))+" ")]),i("div",{staticClass:"cart-number"},[i("span",{staticClass:"cart-count"},[t._v(" "+t._s(a.count)+" ")])]),i("div",{staticClass:"cart-subtotal"},[t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(a.sum)))+" ")])])],1)}))],2),i("div",{staticClass:"total-price"},[i("span",[t._v("總金額：")]),t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(t.total)))+" ")])]):i("ul",{staticClass:"cart-items"},[t.isInCheckoutPage?i("h1",{staticClass:"cart-title"},[t._v("結帳")]):i("h1",{staticClass:"cart-title"},[t._v("個人資訊")]),i("div",{staticClass:"cart-item-container"},[t._m(1),t._l(t.products,(function(a,r){return i("li",{key:r,staticClass:"cart-item flex-content"},[i("router-link",{staticClass:"cart-info flex-content",attrs:{to:{name:"ProductDetail",params:{id:a.id}}}},[i("div",{staticClass:"cart-info-container"},[i("div",{staticClass:"cart-img",style:{backgroundImage:"url(\n                        https://i.imgur.com/"+a.imgSrc+")"}}),i("div",{staticClass:"cart-name"},[t._v(t._s(a.name))])]),i("div",{staticClass:"cart-price"},[t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(a.price)))+" ")]),i("div",{staticClass:"cart-number"},[i("span",{staticClass:"cart-count"},[t._v(" "+t._s(a.count)+" ")])])])],1)}))],2),i("div",{staticClass:"total-price"},[i("span",[t._v("總金額：")]),t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(t.total)))+" ")])]),t.isInCheckoutPage?i("div",{staticClass:"btn-container"},[i("button",{staticClass:"btn back",on:{click:function(a){return t.go("Cart")}}},[t._v("上一步")]),i("button",{staticClass:"btn go-to-info",on:{click:function(a){return t.go("CreateOrder")}}},[t._v(" 填寫個人相關資料 ")])]):t._e()]),i("router-view"),i("Footer")],1)},n=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",{staticClass:"cart-item-title flex-content"},[i("span",[t._v("商品名稱")]),i("span",[t._v("商品價格")]),i("span",[t._v("商品數量")]),i("span",[t._v("小計")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("li",{staticClass:"cart-item-title flex-content"},[i("span",[t._v("商品名稱")]),i("span",[t._v("商品價格")]),i("span",[t._v("商品數量")])])}],s=(i("d81d"),i("b0c0"),i("d3b7"),i("25f0"),i("ac1f"),i("5319"),i("0418")),e=i("fd2d"),c=i("5132"),o=i("bc3a"),u=i.n(o),l={components:{Header:s["a"],Footer:e["a"],Product:c["default"]},data:function(){return{products:[],axiosHeaders:{headers:{"secret-key":"$2b$10$E80Yyy9TzBqCY7bceVjdneSHeiAZqkNzb9dVn.9FbaTeX6LCvyEam"},"Content-Type":"application/json"},isLoading:!0}},watch:{$route:function(t,a){this.$router.go(0)}},computed:{cartItems:function(){return this.$store.getters.cartItems},cartItemsInCart:function(){return this.cartItems.map((function(t){return t.sum=t.count*t.price,t}))},total:function(){return this.cartItemsInCart.reduce((function(t,a){return t+a.sum}),0)||this.products.reduce((function(t,a){return t+a.sum}),0)},hasCartItem:function(){return this.cartItemsInCart.length>0},isInCheckoutPage:function(){return"Checkout"===this.$route.name}},filters:{priceFormat:function(t){return"$"+t.toString()},commaFormat:function(t){return t.toString().replace(/^(-?\d+?)((?:\d{3})+)(?=\.\d+$|$)/,(function(t,a,i){return a+i.replace(/\d{3}/g,",$&")}))}},methods:{showCount:function(){console.log(this.$store.getters.cartItems)},go:function(t){this.$router.push({name:t})},getOrder:function(){var t=this;console.log("order");var a="https://api.jsonbin.io/b/61b7760362ed886f915f62ee/latest";u.a.get(a,this.axiosHeaders).then((function(a){console.log("Get: ",a.data),t.products=a.data[a.data.length-1].productInfos,t.isLoading=!1})).catch((function(t){return console.log(t)}))}},created:function(){this.getOrder()}},d=l,f=(i("31d0"),i("2877")),v=Object(f["a"])(d,r,n,!1,null,"8e947090",null);a["default"]=v.exports},"0cb2":function(t,a,i){var r=i("7b0b"),n=Math.floor,s="".replace,e=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,a,i,o,u,l){var d=i+t.length,f=o.length,v=c;return void 0!==u&&(u=r(u),v=e),s.call(l,v,(function(r,s){var e;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,i);case"'":return a.slice(d);case"<":e=u[s.slice(1,-1)];break;default:var c=+s;if(0===c)return r;if(c>f){var l=n(c/10);return 0===l?r:l<=f?void 0===o[l-1]?s.charAt(1):o[l-1]+s.charAt(1):r}e=o[c-1]}return void 0===e?"":e}))}},"25f0":function(t,a,i){"use strict";var r=i("6eeb"),n=i("825a"),s=i("d039"),e=i("ad6d"),c="toString",o=RegExp.prototype,u=o[c],l=s((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=c;(l||d)&&r(RegExp.prototype,c,(function(){var t=n(this),a=String(t.source),i=t.flags,r=String(void 0===i&&t instanceof RegExp&&!("flags"in o)?e.call(t):i);return"/"+a+"/"+r}),{unsafe:!0})},"31d0":function(t,a,i){"use strict";i("3482")},3482:function(t,a,i){},5132:function(t,a,i){"use strict";i.r(a);var r=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),i("Header"),i("section",{staticClass:"product-list flex-content bg-dark"},[i("div",{staticClass:"side-nav"},[i("ul",{staticClass:"navs flex-content"},t._l(t.categories,(function(a){return i("li",{key:a.title,staticClass:"nav",class:{active:a.isActive},on:{click:function(i){return t.swapCategory(a.position)}}},[t._v(" "+t._s(a.title)+" ")])})),0)]),i("ul",{staticClass:"products flex-content container bg-dark"},[0===t.currentPosition.length?t._l(t.products,(function(a){return i("li",{key:a.id,staticClass:"product"},[i("router-link",{staticClass:"card",attrs:{to:{name:"ProductDetail",params:{id:a.id}}}},[i("div",{staticClass:"card-top-img",style:{backgroundImage:"url(https://i.imgur.com/"+a.imgSrc+")"}}),i("div",{staticClass:"card-content"},[t._v(" "+t._s(a.name)+" "),i("p",{staticClass:"flex-content"},[i("router-link",{staticClass:"add-cart",attrs:{to:""},nativeOn:{click:function(i){return t.addToCart(a.id)}}},[i("i",{staticClass:"fas fa-cart-plus"})]),i("span",{staticClass:"originPrice"},[i("del",[t._v("原價 $ "+t._s(a.originPrice))]),i("br"),t._v(" NT $ "+t._s(a.price)+" ")])],1)])])],1)})):t._l(t.currentPosition,(function(a){return i("li",{key:a.id,staticClass:"product"},[i("router-link",{staticClass:"card",attrs:{to:{name:"ProductDetail",params:{id:a.id}}}},[i("div",{staticClass:"card-top-img",style:{backgroundImage:"url(https://i.imgur.com/"+a.imgSrc+")"}}),i("div",{staticClass:"card-content"},[t._v(" "+t._s(a.name)+" "),i("p",{staticClass:"flex-content"},[i("router-link",{staticClass:"add-cart",attrs:{to:""},nativeOn:{click:function(i){return t.addToCart(a.id)}}},[i("i",{staticClass:"fas fa-cart-plus"})]),i("span",{staticClass:"originPrice"},[i("del",[t._v("原價 $ "+t._s(a.originPrice))]),i("br"),t._v(" NT $ "+t._s(a.price)+" ")])],1)])])],1)}))],2)]),i("Footer")],1)},n=[],s=(i("159b"),i("4de4"),i("0418")),e=i("fd2d"),c=i("1473"),o={components:{Header:s["a"],Footer:e["a"]},data:function(){return{isShow:!1,adding:[],categories:[{title:"全部球技",isActive:!0,position:"all"},{title:"後衛球員",isActive:!1,position:"guard"},{title:"前鋒球員",isActive:!1,position:"foward"},{title:"中鋒球員",isActive:!1,position:"center"}],currentPosition:[]}},computed:{products:function(){return this.$store.state.products},isLoading:function(){return this.$store.state.isLoading}},methods:{swapCategory:function(t){console.log(t),this.categories.forEach((function(a){a.position===t?a.isActive=!a.isActive:a.isActive=!1})),console.log(this.currentPosition),"all"!==t?(this.currentPosition=this.products,this.currentPosition=this.products.filter((function(a){return a.position===t}))):this.currentPosition=this.products},addToCart:function(t){if("true"!==Object(c["a"])("login"))return this.$router.push({name:"Login"});this.$store.dispatch("addToCart",{countShow:1,id:t}),this.$toastr.s("此商品已加入購物車","SKILL")}},created:function(){},mounted:function(){}},u=o,l=(i("0c29"),i("2877")),d=Object(l["a"])(u,r,n,!1,null,"9587af16",null);a["default"]=d.exports},5319:function(t,a,i){"use strict";var r=i("d784"),n=i("d039"),s=i("825a"),e=i("50c4"),c=i("a691"),o=i("1d80"),u=i("8aa5"),l=i("0cb2"),d=i("14c3"),f=i("b622"),v=f("replace"),p=Math.max,m=Math.min,g=function(t){return void 0===t?t:String(t)},h=function(){return"$0"==="a".replace(/./,"$0")}(),C=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),_=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));r("replace",(function(t,a,i){var r=C?"$":"$0";return[function(t,i){var r=o(this),n=void 0==t?void 0:t[v];return void 0!==n?n.call(t,r,i):a.call(String(r),t,i)},function(t,n){if("string"===typeof n&&-1===n.indexOf(r)&&-1===n.indexOf("$<")){var o=i(a,this,t,n);if(o.done)return o.value}var f=s(this),v=String(t),h="function"===typeof n;h||(n=String(n));var C=f.global;if(C){var _=f.unicode;f.lastIndex=0}var b=[];while(1){var $=d(f,v);if(null===$)break;if(b.push($),!C)break;var k=String($[0]);""===k&&(f.lastIndex=u(v,e(f.lastIndex),_))}for(var x="",I=0,y=0;y<b.length;y++){$=b[y];for(var P=String($[0]),S=p(m(c($.index),v.length),0),F=[],w=1;w<$.length;w++)F.push(g($[w]));var L=$.groups;if(h){var A=[P].concat(F,S,v);void 0!==L&&A.push(L);var E=String(n.apply(void 0,A))}else E=l(P,v,S,F,L,n);S>=I&&(x+=v.slice(I,S)+E,I=S+P.length)}return x+v.slice(I)}]}),!_||!h||C)},"9f2b":function(t,a,i){}}]);
//# sourceMappingURL=checkout.7b6f28e1.js.map