(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cart"],{"0c29":function(t,s,i){"use strict";i("9f2b")},5132:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("Header"),i("section",{staticClass:"product-list flex-content bg-dark"},[i("div",{staticClass:"side-nav"},[i("ul",{staticClass:"navs flex-content"},t._l(t.categories,(function(s){return i("li",{key:s.title,staticClass:"nav",class:{active:s.isActive},on:{click:function(i){return t.swapCategory(s.position)}}},[t._v(" "+t._s(s.title)+" ")])})),0)]),i("ul",{staticClass:"products flex-content container bg-dark"},[0===t.currentPosition.length?t._l(t.products,(function(s){return i("li",{key:s.id,staticClass:"product"},[i("router-link",{staticClass:"card",attrs:{to:{name:"ProductDetail",params:{id:s.id}}}},[i("div",{staticClass:"card-top-img",style:{backgroundImage:"url(https://i.imgur.com/"+s.imgSrc+")"}}),i("div",{staticClass:"card-content"},[t._v(" "+t._s(s.name)+" "),i("p",{staticClass:"flex-content"},[i("router-link",{staticClass:"add-cart",attrs:{to:""},nativeOn:{click:function(i){return t.addToCart(s.id)}}},[i("i",{staticClass:"fas fa-cart-plus"})]),i("span",{staticClass:"originPrice"},[i("del",[t._v("原價 $ "+t._s(s.originPrice))]),i("br"),t._v(" NT $ "+t._s(s.price)+" ")])],1)])])],1)})):t._l(t.currentPosition,(function(s){return i("li",{key:s.id,staticClass:"product"},[i("router-link",{staticClass:"card",attrs:{to:{name:"ProductDetail",params:{id:s.id}}}},[i("div",{staticClass:"card-top-img",style:{backgroundImage:"url(https://i.imgur.com/"+s.imgSrc+")"}}),i("div",{staticClass:"card-content"},[t._v(" "+t._s(s.name)+" "),i("p",{staticClass:"flex-content"},[i("router-link",{staticClass:"add-cart",attrs:{to:""},nativeOn:{click:function(i){return t.addToCart(s.id)}}},[i("i",{staticClass:"fas fa-cart-plus"})]),i("span",{staticClass:"originPrice"},[i("del",[t._v("原價 $ "+t._s(s.originPrice))]),i("br"),t._v(" NT $ "+t._s(s.price)+" ")])],1)])])],1)}))],2)]),i("Footer")],1)},e=[],n=(i("159b"),i("4de4"),i("0418")),r=i("fd2d"),o=i("1473"),c={components:{Header:n["a"],Footer:r["a"]},data:function(){return{isShow:!1,adding:[],categories:[{title:"全部球技",isActive:!0,position:"all"},{title:"後衛球員",isActive:!1,position:"guard"},{title:"前鋒球員",isActive:!1,position:"foward"},{title:"中鋒球員",isActive:!1,position:"center"}],currentPosition:[]}},computed:{products:function(){return this.$store.state.products},isLoading:function(){return this.$store.state.isLoading}},methods:{swapCategory:function(t){console.log(t),this.categories.forEach((function(s){s.position===t?s.isActive=!s.isActive:s.isActive=!1})),console.log(this.currentPosition),"all"!==t?(this.currentPosition=this.products,this.currentPosition=this.products.filter((function(s){return s.position===t}))):this.currentPosition=this.products},addToCart:function(t){if("true"!==Object(o["a"])("login"))return this.$router.push({name:"Login"});this.$store.dispatch("addToCart",{countShow:1,id:t}),this.$toastr.s("此商品已加入購物車","SKILL")}},created:function(){},mounted:function(){}},l=c,u=(i("0c29"),i("2877")),d=Object(u["a"])(l,a,e,!1,null,"9587af16",null);s["default"]=d.exports},"58f1":function(t,s,i){"use strict";i("dd04")},"9f2b":function(t,s,i){},a043:function(t,s,i){"use strict";i("c3fb")},b789:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"bg-dark"},[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("Header"),i("div",{staticClass:"container "},[t.hasCartItem?i("ul",{staticClass:"cart-items"},[i("h1",{staticClass:"cart-title"},[t._v("購物車")]),i("div",{staticClass:"cart-item-container"},t._l(t.cartItemsInCart,(function(s,a){return i("li",{key:a,staticClass:"cart-item flex-content"},[i("router-link",{staticClass:"cart-info flex-content",attrs:{to:{name:"ProductDetail",params:{id:s.id}}}},[i("div",{staticClass:"cart-info-container"},[i("div",{staticClass:"cart-img",style:{backgroundImage:"url(\n                        https://i.imgur.com/"+s.imgSrc+")"}}),i("div",{staticClass:"cart-name"},[t._v(t._s(s.name))])]),i("div",{staticClass:"cart-price"},[t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(s.sum)))+" ")])]),i("div",{staticClass:"cart-controller flex-content"},[i("div",{staticClass:"cart-number"},[i("i",{staticClass:"fas fa-minus",on:{click:function(i){return t.minusCount(s)}}}),i("span",{staticClass:"cart-count"},[t._v(" "+t._s(s.count)+" ")]),i("i",{staticClass:"fas fa-plus",on:{click:function(i){return t.plusCount(s)}}})]),i("div",{staticClass:"remove-cart-item"},[i("i",{staticClass:"far fa-trash-alt",on:{click:function(i){return t.removeCartItem(s)}}})])])],1)})),0),i("div",{staticClass:"total-price"},[i("span",[t._v("總金額：")]),t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(t.total)))+" "),i("button",{staticClass:"checkout",on:{click:t.checkoutBill}},[t._v("結帳")])])]):i("div",{staticClass:"no-cart-items bg-dark"},[i("h1",{on:{click:t.showCount}},[t._v("您的購物車尚無商品")]),i("router-link",{staticClass:"keep-shopping",attrs:{to:{name:"Product"}}},[t._v("繼續購物")])],1)]),i("Footer")],1)},e=[],n=(i("d81d"),i("d3b7"),i("25f0"),i("ac1f"),i("5319"),i("0418")),r=i("fd2d"),o=i("5132"),c={components:{Header:n["a"],Footer:r["a"],Product:o["default"]},data:function(){return{}},watch:{$route:function(t,s){this.$router.go(0)}},computed:{cartItems:function(){return this.$store.getters.cartItems},cartItemsInCart:function(){return this.cartItems.map((function(t){return t.sum=t.count*t.price,t}))},total:function(){return this.cartItemsInCart.reduce((function(t,s){return t+s.sum}),0)},hasCartItem:function(){return this.cartItemsInCart.length>0},isLoading:function(){return this.$store.state.isLoading}},filters:{priceFormat:function(t){return"$"+t.toString()},commaFormat:function(t){return t.toString().replace(/^(-?\d+?)((?:\d{3})+)(?=\.\d+$|$)/,(function(t,s,i){return s+i.replace(/\d{3}/g,",$&")}))}},methods:{plusCount:function(t){this.$store.dispatch("plusCount",{id:t.id})},minusCount:function(t){this.$store.dispatch("minusCount",{id:t.id})},removeCartItem:function(t){this.$store.dispatch("removeCartItem",{ids:[t.id],isSystem:!1})},showCount:function(){console.log(this.$store.getters.getCartItems)},checkoutBill:function(){this.$router.push({name:"Checkout"})}}},l=c,u=(i("a043"),i("2877")),d=Object(u["a"])(l,a,e,!1,null,"10bd7034",null);s["default"]=d.exports},c05d:function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"bg-dark"},[i("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("Header"),i("div",{staticClass:"container"},[i("ul",{staticClass:"bills"},t._l(t.currentPageOrders,(function(s){return i("li",{key:s.id,staticClass:"bill"},[i("ul",{staticClass:"bill-titles flex-content"},[i("li",{staticClass:"title",class:{active:t.isActiveAll},on:{click:function(s){return t.swapCategory("all")}}},[t._v(" 全部訂單 "),i("div",{staticClass:"bottom-line",class:{active:t.isActiveAll}})]),i("li",{staticClass:"title",class:{active:t.isActivePaid},on:{click:function(s){return t.swapCategory("paid")}}},[t._v(" 已付款 "),i("div",{staticClass:"bottom-line",class:{active:t.isActivePaid}})]),i("li",{staticClass:"title",class:{active:t.isActiveUnpaid},on:{click:function(s){return t.swapCategory("unpaid")}}},[t._v(" 未付款 "),i("div",{staticClass:"bottom-line",class:{active:t.isActiveUnpaid}})])]),i("div",{staticClass:"produt-info-container"},[i("h4",[t._v(" 訂單日期: "+t._s(s.date)+" ")]),i("ul",{staticClass:"products"},[t._m(0,!0),void 0!==s.productInfos?t._l(s.productInfos,(function(s){return i("li",{key:s.id,staticClass:"product flex-content"},[i("div",{staticClass:"product-info flex-content"},[i("div",{staticClass:"product-img",style:{backgroundImage:"url(https://i.imgur.com/"+s.imgSrc+")"}}),i("span",{staticClass:"product-name"},[t._v(" "+t._s(s.name)+" ")])]),i("div",{staticClass:"product-count"},[t._v(" "+t._s(s.count)+" ")]),i("div",{staticClass:"product-price"},[t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(s.price)))+" ")]),i("div",{staticClass:"product-subtotal"},[t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(s.sum)))+" ")])])})):t._e()],2),i("div",{staticClass:"total-price"},[i("span",[t._v("總金額：")]),t._v(" "+t._s(t._f("priceFormat")(t._f("commaFormat")(s.total)))+" ")])]),i("div",{staticClass:"order-info-container"},[i("div",{staticClass:"email border-bottom"},[i("span",{staticClass:"form-text"},[t._v(" Email: ")]),i("span",{staticClass:"order-info"},[t._v(" "+t._s(s.email))])]),i("div",{staticClass:"name border-bottom"},[i("span",{staticClass:"form-text"},[t._v(" 姓名: ")]),i("span",{staticClass:"order-info"},[t._v(" "+t._s(s.name)+" ")])]),i("div",{staticClass:"phone-number border-bottom"},[i("span",{staticClass:"form-text"},[t._v(" 電話: ")]),i("span",{staticClass:"order-info"},[t._v(" "+t._s(s.phoneNumber)+" ")])]),i("div",{staticClass:"line-id border-bottom"},[i("span",{staticClass:"form-text"},[t._v(" Line ID: ")]),i("span",{staticClass:"order-info"},[t._v(t._s(s.lineId))])]),i("div",{staticClass:"comment border-bottom"},[i("span",{staticClass:"form-text"},[t._v(" 留言: ")]),i("p",{staticClass:"order-info"},[t._v(" "+t._s(s.comment)+" ")])]),i("div",{staticClass:"payment-status border-bottom"},[i("span",{staticClass:"form-text"},[t._v(" 付款狀態: ")]),s.paymentStatus?i("span",{staticClass:"paid order-info"},[t._v("已付款")]):i("span",{staticClass:"unpaid order-info"},[t._v("尚未付款 ")])])]),i("div",{staticClass:"btn-container"},[s.paymentStatus?t._e():i("button",{staticClass:"btn pay-now",on:{click:function(i){return t.payNow(s.id)}}},[t._v(" 立即付款 ")])])])})),0)]),i("div",{staticClass:"center"},[i("Paginate",{attrs:{rowsPerPage:t.rowsPerPage,pageCount:t.pageCount},on:{updatePage:t.filterByPageNum}})],1),i("Footer")],1)},e=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"title flex-content"},[i("span",{staticClass:"title-product"},[t._v("商品")]),i("span",{staticClass:"title-count"},[t._v("數量")]),i("span",{staticClass:"title-price"},[t._v("價格")]),i("span",{staticClass:"title-subtotal-price"},[t._v("小計")])])}],n=(i("d81d"),i("4e82"),i("4de4"),i("fb6a"),i("d3b7"),i("25f0"),i("ac1f"),i("5319"),i("0418")),r=i("fd2d"),o=i("1799"),c=i("bc3a"),l=i.n(c),u={components:{Header:n["a"],Footer:r["a"],Paginate:o["a"]},data:function(){return{allOrderInfos:[],axiosHeaders:{headers:{"secret-key":"$2b$10$E80Yyy9TzBqCY7bceVjdneSHeiAZqkNzb9dVn.9FbaTeX6LCvyEam"},"Content-Type":"application/json"},isLoading:!0,isActiveAll:!0,isActivePaid:!1,isActiveUnpaid:!1,rowsPerPage:5,currentPageOrders:[],isShowDetail:!1}},methods:{getOrder:function(){var t=this,s="https://api.jsonbin.io/b/61b7760362ed886f915f62ee/latest";l.a.get(s,this.axiosHeaders).then((function(s){console.log("Get: ",s.data),t.allOrderInfos=s.data,t.allOrderInfos.map((function(t){return t.total=t.productInfos.reduce((function(t,s){return t+s.sum}),0)})),t.allOrderInfos.sort((function(t,s){return new Date(t.date)-new Date(s.date)})),t.filterByPageNum(1),t.isLoading=!1}))},go:function(t){this.$router.push({name:t})},swapCategory:function(t){switch(t){case"all":this.isActiveAll=!0,this.isActivePaid=!1,this.isActiveUnpaid=!1,this.currentPageOrders=this.allOrderInfos;break;case"paid":this.isActivePaid=!0,this.isActiveAll=!1,this.isActiveUnpaid=!1,this.currentPageOrders=this.allOrderInfos.filter((function(t){return t.paymentStatus}));break;case"unpaid":this.isActiveUnpaid=!0,this.isActiveAll=!1,this.isActivePaid=!1,this.currentPageOrders=this.allOrderInfos.filter((function(t){return!t.paymentStatus}));break}},filterByPageNum:function(t){this.currentPageOrders=this.allOrderInfos.slice(this.rowsPerPage*(t-1),this.rowsPerPage*t),window.scrollTo(0,0)},payNow:function(t){var s=this,i=this.currentPageOrders.filter((function(s){return s.id===t}))[0];i.paymentStatus=!0;var a="https://api.jsonbin.io/b/61b7760362ed886f915f62ee";this.allOrderInfos=this.allOrderInfos.filter((function(s){return s.id!==t})),this.allOrderInfos.push(i),console.log(this.allOrderInfos),l.a.put(a,this.allOrderInfos,this.axiosHeaders).then((function(t){console.log("Create: ",t.data),s.$toastr.Add({title:"SKILL",msg:"成功付款",position:"toast-top-center"}),s.$router.go(0)})).catch((function(t){return console.log(t)}))}},created:function(){this.getOrder()},computed:{pageCount:function(){return Math.ceil(this.allOrderInfos.length/this.rowsPerPage)}},filters:{priceFormat:function(t){return"$"+t.toString()},commaFormat:function(t){return t.toString().replace(/^(-?\d+?)((?:\d{3})+)(?=\.\d+$|$)/,(function(t,s,i){return s+i.replace(/\d{3}/g,",$&")}))}}},d=u,f=(i("58f1"),i("2877")),p=Object(f["a"])(d,a,e,!1,null,"8866bf8e",null);s["default"]=p.exports},c3fb:function(t,s,i){},dd04:function(t,s,i){}}]);
//# sourceMappingURL=cart.9aa00f80.js.map